// BB Hover Box

$hover-box-overlay: rgba($blue-dark, 0.69);

.hover-box {
  display: flex;
  flex-direction: column;
  text-align: center;
  align-content: center;
  justify-content: center;
  position: relative;
  min-height: 420px;
  background-size: cover;
  background-position: center;
  color: $white;
  
  .fl-col-content {
    &:after {
      position: absolute;
      top: 0;
      left: 0;
      display: block;
  
      width: 100%;
      height: 100%;
      content: " " !important;
      background-color: $blue-dark;
      opacity: 0;
      transition: 0.3s opacity ease;
      z-index: 1;
  
    }
  }

  

  &:hover {
    .fl-col-content {
    &:after {
      opacity: 1;
      content: " " !important;
      display: block;
    }
  }

    .fl-callout-text-wrap {
      opacity: 1;
      transform: translate3d(0, 0, 0);
    }

    .fl-callout-content {
      transform: translate3d(0, 0, 0);
      display: block;
      position: relative;
      z-index: 3;
    }
  }

  .fl-col-content {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
  }

  .callout-link {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 2;
  }

  h2 {
    a {
      color: $white;
    }
  }

  .fl-callout-content {
    transition: all 0.3s ease;
    transform: translate3d(0, 30%, 0);
    z-index: 3;
    text-align: center;
    padding: $margin;
  }

  .fl-callout-text-wrap {
    opacity: 0;
    transition: all 0.3s ease;
    transform: translate3d(0, 50%, 0);
    max-width: 600px;
    margin: auto;
  }

  // Resources

  &.resource-box {
    border-left: 4px solid $gray-lighter;
    &:after {
      background-color: $blue-dark;
    }

    .fl-callout-title {
      margin-bottom: $margin * 0.5;
      //padding: 0;
      &-text {
        text-transform: uppercase;
        border: 3px solid $blue-dark;
        padding: 0 ($margin * 0.25) ($margin * 0.125) ($margin * 0.25);
      }
    }

    &:hover {
      .fl-callout-title {
        color: $white;

        &-text {
          border-color: $white;
        }
      }
    }
  }
}

// Community Grid 

.community-grid {
  margin: 0 -3px;
  
  .fl-col-content {
    &:after {
      position: absolute;
      top: 3px;
      left: 3px;
      display: block;
  
      width: calc(100% - 6px);
      height: calc(100% - 6px);
      background-color: $hover-box-overlay;
    }
  }
}

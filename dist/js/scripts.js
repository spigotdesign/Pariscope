(function(){var el=document.body;el.classList.remove("no-js")})();(function(){var toggle={navToggle:document.querySelector("#toggle-menu"),body:document.querySelector(".site-header"),doToggle:function(e){this.body.classList.toggle("nav-open")}};toggle.navToggle.addEventListener("click",function(e){toggle.doToggle(e)})})();const body=document.querySelector("body");const detachedClass="detached";const invisibleClass="invisible";let prevScrollY=0;const menuOffset=120;const detachPoint=650;const hideShowOffset=20;window.addEventListener("scroll",()=>{const currentScrollY=window.scrollY;if(currentScrollY>detachPoint){body.classList.add(detachedClass)}else{body.classList.remove(detachedClass)}if(Math.abs(currentScrollY-prevScrollY)>=hideShowOffset){body.classList.toggle(invisibleClass,currentScrollY>prevScrollY)}if(window.innerHeight+currentScrollY>=document.body.offsetHeight){}prevScrollY=currentScrollY});window.addEventListener("load",()=>{const loading=document.querySelector(".preload");loading.style.opacity=0;setTimeout(()=>{loading.remove()},1e3)});const sections=document.querySelectorAll(".section");const bgs=document.querySelectorAll(".bg");window.addEventListener("scroll",()=>{let scrollPos=window.scrollY;sections.forEach((section,idx)=>{const inView=scrollPos>=section.offsetTop-window.innerHeight/2.25&&scrollPos<=section.offsetTop+section.offsetHeight-window.innerHeight/2.25;if(inView){section.style.opacity=1;bgs[idx].style.opacity=1}else{section.style.opacity=0;bgs[idx].style.opacity=0}})});const listItems=document.querySelectorAll(".cap-list__item");const images=document.querySelectorAll(".cap-bgs img");listItems.forEach((item,index)=>{item.addEventListener("mouseover",()=>{images[index].style.opacity=1});item.addEventListener("mouseout",()=>{images[index].style.opacity=0})});const slider=document.querySelector(".workwith");const slides=slider.querySelectorAll("li");let currentIndex=0;let slideWidth=slides[0].clientWidth;let scrollAmount=0;function slide(){if(scrollAmount>=slider.scrollWidth-slider.clientWidth){scrollAmount=0}currentIndex++;const item=slider.querySelector("li");const width=item.getBoundingClientRect().width;scrollAmount+=width;slider.scrollLeft=scrollAmount}const firstSlide=slides[0].cloneNode(true);const lastSlide=slides[slides.length-1].cloneNode(true);slider.appendChild(firstSlide);slider.insertBefore(lastSlide,slides[0]);setInterval(slide,3e3);window.addEventListener("popstate",()=>{location.reload()});